# ScheduleZero Portal Configuration
# This file is REQUIRED - the server will not start without it

# Portal Metadata
portal_name: "ScheduleZero Default Portal"
portal_version: "1.0.0"
description: "Main administrative portal for ScheduleZero task scheduler"
admin_contact: "admin@example.com"

# Portal Root - REQUIRED
# Path to the portal directory (absolute or relative to this config file)
# Production: Points to Vite build output with bundled JS components
# Development: Points to Python repo portal with CDN-loaded components
# portal_root: "../schedule-zero-islands/dist/portal1"  # Production (requires pnpm build)
portal_root: "src/schedule_zero/portal"  # Development mode

# Component Library Configuration
# Defines which custom HTML tags/components are valid for validation
component_library:
  - htmx           # HTMX attributes and custom elements (hx-*, <hx-*>)
  - web-components # Custom elements with hyphens (<sz-nav>, <sz-*>)
  # - vue          # Vue.js components and directives (v-*, <v-*>)

# Microsites Configuration - REQUIRED
# Each microsite must have:
#   - name: Display name
#   - url_prefix: URL path prefix (e.g., /dash)
#   - routes_module: Python module path to routes.py
#   - templates_path: Path to Tornado templates (relative to portal_root or absolute)
#   - assets_path: Path to static assets (relative to portal_root or absolute)
microsites:
  - name: "Dashboard"
    url_prefix: "/dash"
    routes_module: "schedule_zero.microsites.sz_dash.routes"
    templates_path: "microsites/sz_dash/templates"
    assets_path: "microsites/sz_dash/assets"
    enabled: true

  - name: "Schedules Manager"
    url_prefix: "/schedules"
    routes_module: "schedule_zero.microsites.sz_schedules.routes"
    templates_path: "microsites/sz_schedules/templates"
    assets_path: "microsites/sz_schedules/assets"
    enabled: true

  - name: "Handlers Registry"
    url_prefix: "/handlers"
    routes_module: "schedule_zero.microsites.sz_handlers.routes"
    templates_path: "microsites/sz_handlers/templates"
    assets_path: "microsites/sz_handlers/assets"
    enabled: true

  - name: "Documentation"
    url_prefix: "/docs"
    routes_module: "schedule_zero.microsites.mkdocs.routes"
    templates_path: "microsites/mkdocs/templates"
    assets_path: "microsites/mkdocs/assets"
    enabled: true

# Static Assets Configuration
static_path: "static"  # Relative to portal_root
static_url_prefix: "/static/"

# Template Configuration
template_cache: false  # Development mode: disable cache
template_autoreload: true  # Development mode: watch for changes

# Development Mode (ACTIVE)
# Using Python-served portal from src/schedule_zero/portal
# For production deployment:
#   1. Build JS components: cd ../schedule-zero-islands && pnpm install && pnpm build
#   2. Update portal_root: "../schedule-zero-islands/dist/portal1"
#   3. Set template_cache: true, template_autoreload: false

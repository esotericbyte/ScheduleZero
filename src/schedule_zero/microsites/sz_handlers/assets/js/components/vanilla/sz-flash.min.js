class n extends HTMLElement{constructor(){super(),this.shadow=this.attachShadow({mode:"open"}),this.notifications=[],this.enabled=this.getAttribute("enabled")!=="false",this.history=this.loadHistory(),this.maxHistorySize=1024*1024,this.showingHistory=!1}connectedCallback(){this.render(),document.addEventListener("sz:notify",t=>this.showNotification(t.detail)),document.addEventListener("htmx:flash",t=>this.showNotification(t.detail))}render(){this.shadow.innerHTML=`
      <style>
        :host { 
          position: fixed; 
          top: 20px; 
          right: 20px; 
          z-index: 1000; 
          pointer-events: none;
        }
        
        .controls {
          position: fixed;
          bottom: 20px;
          right: 20px;
          display: flex;
          gap: 8px;
          pointer-events: auto;
        }
        
        .control-btn {
          background: #333;
          color: white;
          border: none;
          padding: 10px 16px;
          border-radius: 4px;
          cursor: pointer;
          font-family: system-ui, sans-serif;
          font-size: 14px;
          box-shadow: 0 2px 8px rgba(0,0,0,0.15);
          transition: background 0.2s;
        }
        
        .control-btn:hover {
          background: #555;
        }
        
        .control-btn.disabled {
          background: #999;
          opacity: 0.6;
        }
        
        .control-btn.active {
          background: #4caf50;
        }
        
        .notification { 
          background: #333; 
          color: white; 
          padding: 12px 20px; 
          border-radius: 4px; 
          margin-bottom: 8px; 
          box-shadow: 0 4px 12px rgba(0,0,0,0.15);
          font-family: system-ui, sans-serif;
          font-size: 14px;
          pointer-events: auto;
          animation: slideIn 0.3s ease-out;
          position: relative;
          padding-right: 40px;
        }
        
        .notification .close-btn {
          position: absolute;
          right: 8px;
          top: 50%;
          transform: translateY(-50%);
          background: none;
          border: none;
          color: white;
          font-size: 20px;
          cursor: pointer;
          padding: 0;
          width: 24px;
          height: 24px;
          line-height: 24px;
          text-align: center;
          opacity: 0.7;
        }
        
        .notification .close-btn:hover {
          opacity: 1;
        }
        
        .success { background: #4caf50; }
        .error { background: #f44336; }
        .info { background: #2196f3; }
        .warning { background: #ff9800; }
        
        @keyframes slideIn {
          from { transform: translateX(100%); opacity: 0; }
          to { transform: translateX(0); opacity: 1; }
        }
        @keyframes slideOut {
          from { transform: translateX(0); opacity: 1; }
          to { transform: translateX(100%); opacity: 0; }
        }
        .slide-out { animation: slideOut 0.3s ease-out forwards; }
        
        .history-viewer {
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          width: 80%;
          max-width: 800px;
          height: 70%;
          background: white;
          border-radius: 8px;
          box-shadow: 0 8px 32px rgba(0,0,0,0.3);
          pointer-events: auto;
          display: none;
          flex-direction: column;
          z-index: 1001;
        }
        
        .history-viewer.visible {
          display: flex;
        }
        
        .history-header {
          display: flex;
          justify-content: space-between;
          align-items: center;
          padding: 16px 20px;
          border-bottom: 1px solid #e0e0e0;
        }
        
        .history-header h3 {
          margin: 0;
          font-family: system-ui, sans-serif;
          color: #333;
        }
        
        .history-header .size-info {
          font-size: 12px;
          color: #666;
          margin-left: 12px;
        }
        
        .history-close {
          background: none;
          border: none;
          font-size: 24px;
          cursor: pointer;
          color: #666;
          padding: 0;
          width: 32px;
          height: 32px;
          line-height: 32px;
          text-align: center;
        }
        
        .history-close:hover {
          color: #333;
        }
        
        .history-content {
          flex: 1;
          overflow-y: auto;
          padding: 16px 20px;
          font-family: 'Courier New', monospace;
          font-size: 13px;
          background: #f5f5f5;
        }
        
        .history-entry {
          padding: 8px 12px;
          margin-bottom: 8px;
          background: white;
          border-left: 4px solid #2196f3;
          border-radius: 4px;
        }
        
        .history-entry.success { border-left-color: #4caf50; }
        .history-entry.error { border-left-color: #f44336; }
        .history-entry.warning { border-left-color: #ff9800; }
        
        .history-entry .timestamp {
          color: #666;
          font-size: 11px;
          margin-bottom: 4px;
        }
        
        .history-entry .message {
          color: #333;
        }
        
        .history-footer {
          padding: 12px 20px;
          border-top: 1px solid #e0e0e0;
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        
        .history-footer button {
          background: #f44336;
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 4px;
          cursor: pointer;
          font-family: system-ui, sans-serif;
          font-size: 14px;
        }
        
        .history-footer button:hover {
          background: #d32f2f;
        }
        
        .overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0,0,0,0.5);
          pointer-events: auto;
          display: none;
          z-index: 1000;
        }
        
        .overlay.visible {
          display: block;
        }
      </style>
      
      <div class="overlay" id="overlay"></div>
      
      <div class="container"></div>
      
      <div class="controls">
        <button class="control-btn ${this.enabled?"active":"disabled"}" 
                id="toggle-btn" 
                title="${this.enabled?"Disable notifications":"Enable notifications"}">
          ${this.enabled?"ðŸ”” On":"ðŸ”• Off"}
        </button>
        <button class="control-btn" id="history-btn" title="View notification history">
          ðŸ“œ History
        </button>
      </div>
      
      <div class="history-viewer" id="history-viewer">
        <div class="history-header">
          <div>
            <h3>Notification History</h3>
            <span class="size-info" id="size-info"></span>
          </div>
          <button class="history-close" id="close-history">Ã—</button>
        </div>
        <div class="history-content" id="history-content"></div>
        <div class="history-footer">
          <span id="entry-count"></span>
          <button id="clear-history">Clear History</button>
        </div>
      </div>
    `,this.attachEventListeners(),this.updateSizeInfo()}attachEventListeners(){const t=this.shadow.getElementById("toggle-btn"),i=this.shadow.getElementById("history-btn"),o=this.shadow.getElementById("close-history"),e=this.shadow.getElementById("clear-history"),s=this.shadow.getElementById("overlay");t.addEventListener("click",()=>this.toggleNotifications()),i.addEventListener("click",()=>this.showHistory()),o.addEventListener("click",()=>this.hideHistory()),s.addEventListener("click",()=>this.hideHistory()),e.addEventListener("click",()=>this.clearHistory())}toggleNotifications(){this.enabled=!this.enabled,localStorage.setItem("sz-flash-enabled",this.enabled),this.render()}showNotification({type:t="info",message:i}){if(this.addToHistory(t,i),!this.enabled)return;const o=this.shadow.querySelector(".container"),e=document.createElement("div");e.className=`notification ${t}`,e.innerHTML=`
      ${i}
      <button class="close-btn">Ã—</button>
    `,o.appendChild(e),e.querySelector(".close-btn").addEventListener("click",()=>{this.dismissNotification(e)}),setTimeout(()=>{this.dismissNotification(e)},5e3)}dismissNotification(t){t.parentNode&&(t.classList.add("slide-out"),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},300))}addToHistory(t,i){const o={timestamp:new Date().toISOString(),type:t,message:i};this.history.push(o),this.trimHistory(),this.saveHistory(),this.updateSizeInfo()}trimHistory(){if(JSON.stringify(this.history).length>this.maxHistorySize)for(;JSON.stringify(this.history).length>this.maxHistorySize&&this.history.length>0;)this.history.shift()}loadHistory(){try{const t=localStorage.getItem("sz-flash-history");return t?JSON.parse(t):[]}catch(t){return console.error("Failed to load notification history:",t),[]}}saveHistory(){try{localStorage.setItem("sz-flash-history",JSON.stringify(this.history))}catch(t){console.error("Failed to save notification history:",t)}}showHistory(){this.showingHistory=!0;const t=this.shadow.getElementById("history-viewer"),i=this.shadow.getElementById("overlay"),o=this.shadow.getElementById("history-content"),e=this.shadow.getElementById("entry-count");i.classList.add("visible"),t.classList.add("visible"),o.innerHTML=[...this.history].reverse().map(s=>`
      <div class="history-entry ${s.type}">
        <div class="timestamp">${new Date(s.timestamp).toLocaleString()}</div>
        <div class="message">${s.message}</div>
      </div>
    `).join(""),e.textContent=`${this.history.length} entries`}hideHistory(){this.showingHistory=!1;const t=this.shadow.getElementById("history-viewer");this.shadow.getElementById("overlay").classList.remove("visible"),t.classList.remove("visible")}clearHistory(){confirm("Clear all notification history?")&&(this.history=[],this.saveHistory(),this.updateSizeInfo(),this.showHistory())}updateSizeInfo(){const t=this.shadow.getElementById("size-info");if(t){const i=JSON.stringify(this.history).length,o=(i/1024).toFixed(1),e=(i/this.maxHistorySize*100).toFixed(1);t.textContent=`${o} KB / 1024 KB (${e}%)`}}}customElements.define("sz-flash",n);
//# sourceMappingURL=sz-flash.min.js.map
